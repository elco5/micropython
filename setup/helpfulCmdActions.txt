Helpful cmd actions

create new file:
echo pathNewFile.txt
add text to new file:
echo new text > pathNewOrExistingFile.txt
append text to file:
echo appended text >> existingFile.txt

setting up the board to run micropython:
https://mitjafelicijan.com/esp8266-and-micropython-guide.html

https://randomnerdtutorials.com/micropython-esp32-esp8266-vs-code-pymakr/

get micropython binary:
https://micropython.org/resources/firmware/esp32-20210902-v1.17.bin

install esptool:
pip install esptool

to find what port your device is connected to:
pnputil /enum-devices /connected | findstr COM

erase existing flash memory on device:
esptool.py --port com4 erase_flash - may need to press BOOT button on ESP32

upload micropython binary to device:
from the directory where the micropython binary is stored, run:
esptool.py --chip esp32 --port com3 write_flash -z 0x1000 esp32-20220618-v1.19.1.bin

to communicate with the board and upload .py files a serial channel is required:
https://github.com/dhylands/rshell
pip install rshell

run rshell:
rshell -p com4

list files on pyboard:
ls /pyboard

connect to board over seral port:
connect serial COM4
rshell connect serial com4

using webREPL: (boot.py contents below)
# This file is executed on every boot (including wake-boot from deepsleep)
#import esp
#esp.osdebug(None)
import webrepl
webrepl.start()

start repl: rshell repl
run: import repl_setup
ENABLE when prompted

To enable WebREPL, you must set password for it
New password (4-9 chars): python

WebREPL daemon started on ws://192.168.1.134:8266

enter this ip into webrepl.html in browser
file:///C:/Users/count/Documents/Micropython/webrepl/webrepl.html?#192.168.1.134:8266/


####################### 	EXAMPLES    #######################
C:\Users\count\Documents\Micropython\BoardSetup>rshell
Welcome to rshell. Use the exit command to exit rshell.

No MicroPython boards connected - use the connect command to add one

C:\Users\count\Documents\Micropython\BoardSetup> connect serial com4
Connecting to com4 (buffer-size 512)...
Trying to connect to REPL  connected
Retrieving sysname ... esp32
Testing if sys.stdin.buffer exists ... Y
Retrieving root directories ... /boot.py/
Setting time ... Nov 06, 2021 13:45:34
Evaluating board_name ... pyboard
Retrieving time epoch ... Jan 01, 2000
C:\Users\count\Documents\Micropython\BoardSetup> cp main.py /pyboard
Copying 'C:\Users\count\Documents\Micropython\BoardSetup/main.py' to '/pyboard/main.py' ...
C:\Users\count\Documents\Micropython\BoardSetup> repl
Entering REPL. Use Control-X to exit.
>
MicroPython v1.17 on 2021-09-02; ESP32 module with ESP32
Type "help()" for more information.
>>> ets Jun  8 2016 00:22:57

rst:0x1 (POWERON_RESET),boot:0x13 (SPI_FAST_FLASH_BOOT)
configsip: 0, SPIWP:0xee
clk_drv:0x00,q_drv:0x00,d_drv:0x00,cs0_drv:0x00,hd_drv:0x00,wp_drv:0x00
mode:DIO, clock div:2
load:0x3fff0030,len:5656
load:0x40078000,len:12696
load:0x40080400,len:4292
entry 0x400806b0
connecting to network...
network config: ('192.168.1.134', '255.255.255.0', '192.168.1.1', '192.168.1.1')
WebREPL is not configured, run 'import webrepl_setup'
MicroPython v1.17 on 2021-09-02; ESP32 module with ESP32
Type "help()" for more information.
>>>

#######################

C:\Users\count\Documents\Micropython_old> connect serial com4
Connecting to com4 (buffer-size 512)...
Trying to connect to REPL  connected
Retrieving sysname ... esp32
Testing if sys.stdin.buffer exists ... Y
Retrieving root directories ... /boot.py/ /main.py/ /onboardScripts/ /webrepl_cfg.py/
Setting time ... Nov 06, 2021 16:15:49
Evaluating board_name ... pyboard
Retrieving time epoch ... Jan 01, 2000
C:\Users\count\Documents\Micropython_old> rsync onboardScripts /pyboard/onboardScripts
Adding /pyboard/onboardScripts/helloworld.py
C:\Users\count\Documents\Micropython_old> ls -l /pyboard
   683 Dec 31 1999  boot.py
   570 Nov  6 13:46 main.py
     0 Dec 31 1999  onboardScripts/
    16 Dec 31 1999  webrepl_cfg.py
C:\Users\count\Documents\Micropython_old>